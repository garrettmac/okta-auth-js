{"version":3,"sources":["../../../../lib/idx/remediators/ReEnrollAuthenticator.ts"],"names":["ReEnrollAuthenticator","Base","mapCredentials","passcode","values","newPassword","getNextStep","name","remediation","type","relatesTo","value","getErrorMessages","errorRemediation","form","reduce","errors","field","messages","push","message"],"mappings":";;;;;;;;AAAA;;AAMO,MAAMA,qBAAN,SAAoCC,UAApC,CAAyC;AAAA;AAAA;AAAA,+CAGxC;AACJ,qBAAe,CAAC,aAAD;AADX,KAHwC;AAAA;;AAO9CC,EAAAA,cAAc,GAAG;AACf,WAAO;AACLC,MAAAA,QAAQ,EAAE,KAAKC,MAAL,CAAYC;AADjB,KAAP;AAGD;;AAEDC,EAAAA,WAAW,GAAG;AACZ,WAAO;AACLC,MAAAA,IAAI,EAAE,KAAKC,WAAL,CAAiBD,IADlB;AAELE,MAAAA,IAAI,EAAE,KAAKD,WAAL,CAAiBE,SAAjB,CAA2BC,KAA3B,CAAiCF;AAFlC,KAAP;AAID;;AAEDG,EAAAA,gBAAgB,CAACC,gBAAD,EAAmB;AACjC,WAAOA,gBAAgB,CAACF,KAAjB,CAAuB,CAAvB,EAA0BG,IAA1B,CAA+BH,KAA/B,CAAqCI,MAArC,CAA4C,CAACC,MAAD,EAASC,KAAT,KAAmB;AACpE,UAAIA,KAAK,CAACC,QAAV,EAAoB;AAClBF,QAAAA,MAAM,CAACG,IAAP,CAAYF,KAAK,CAACC,QAAN,CAAeP,KAAf,CAAqB,CAArB,EAAwBS,OAApC;AACD;;AACD,aAAOJ,MAAP;AACD,KALM,EAKJ,EALI,CAAP;AAMD;;AA3B6C","sourcesContent":["import { Base, RemediationValues } from './Base';\n\nexport interface ReEnrollAuthenticatorValues extends RemediationValues {\n  newPassword?: string;\n}\n\nexport class ReEnrollAuthenticator extends Base {\n  values: ReEnrollAuthenticatorValues;\n\n  map = {\n    'credentials': ['newPassword']\n  };\n\n  mapCredentials() {\n    return { \n      passcode: this.values.newPassword,\n    };\n  }\n\n  getNextStep() {\n    return {\n      name: this.remediation.name,\n      type: this.remediation.relatesTo.value.type,\n    };\n  }\n\n  getErrorMessages(errorRemediation) {\n    return errorRemediation.value[0].form.value.reduce((errors, field) => {\n      if (field.messages) {\n        errors.push(field.messages.value[0].message);\n      }\n      return errors;\n    }, []);\n  }\n}\n"],"file":"ReEnrollAuthenticator.js"}